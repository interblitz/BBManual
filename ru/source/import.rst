.. include:: termins.rst
.. _chapter_import:

Импорт данных
=============

Приложение |бб| поддерживает импорт данных в формате |csv|. Во время импорта, помимо операций, могут быть созданы новые
элементы справочников статей, плательщиков / получателей, проектов и персон. Счета необходимо создать заранее.

Программа автоматически определяет разделитель колонок, который может быть одним из символов ";", ",", "|", "/", "\".
Файл должен быть в кодировке UTF-8.

Первая строка файла должна содержать имена колонок на английском языке, регистр не имеет значения. Помимо этого, имена
колонок могут быть заданы в любой другой строке, тогда они будут иметь силу для последующих строк. Поддерживаются имена:

.. list-table:: Формат CSV файла
   :widths: 7 5 30
   :header-rows: 1

   * - Имена
     - Обязательный
     - Комментарий
   * - id
     - Нет
     - Идентификатор операции, если указан, то будет выполнен поиск существующей операции
   * - account
     - Да
     - Наименование или номер счета
   * - date
     - Нет
     - Дата в одном из форматов: "dd'd'MM'd'yyyy" (например, 01d01d2017), "yyyy'd'MM'd'dd" (например, 2017d01d01), "yyyyMMddHHmmss", "yyyyMMddHHmm", "yyyyMMdd", "yyyy-MM-dd HH:mm:ss", "yyyy-MM-dd HH:mm", "yyyy-MM-dd", "dd-MM-yyyy HH:mm:ss", "dd-MM-yyyy HH:mm", "dd-MM-yyyy", "dd.MM.yyyy HH:mm:ss", "dd.MM.yyyy HH:mm", "dd.MM.yyyy"
   * - time
     - Нет
     - Время в одном из форматов: "HH:mm:ss", "HH:mm", "HHmmss", "HHmm"
   * - amount
     - Да
     - Сумма операции (может содержать валюту и разделители групп разрядов), десятичный разделитель может быть точкой или запятой
   * - rate, exchange rate
     - Нет
     - Курс операции
   * - currency
     - Нет
     - алюта операции, если не указано, то используется в валюта счета
   * - payee, contractor
     - Нет
     - Наименование плательщика или получателя платежа
   * - category
     - Нет
     - Наименование категории, если не указано, то программа дополнительно выполняет поиск по ключевым словам текущей строки
   * - project
     - Нет
     - Наименование проекта, если не указано, то программа дополнительно выполняет поиск по ключевым словам текущей строки|
   * - unit
     - Нет
     - Наименование персоны/подразделения, если не указано, то программа дополнительно выполняет поиск по ключевым словам текущей строки|
   * - notes, note
     - Нет
     - Примечание
   * - planned, plan
     - Нет
     - Фактическая (0), или плановая (1) операция. Если колонка не задана, создается фактическая операция

Если строка не содержит обязательных колонок, или значение обязательной колонки не задано, то такая строка будет пропущена.
